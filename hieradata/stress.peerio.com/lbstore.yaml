additional_classes:
  - Haproxy

haproxy_backends:
  - name: socket
    check_interval: 5s
    check_fall: 3
    check_rise: 1
    mode: tcp
    options:
      - tcplog
    port: 6379
    type: redis
    targets:
      - { name: redis1, host: 10.255.125.97 }
      - { name: redis2, host: 10.255.125.25 }
      - { name: redis3, host: 10.255.125.230 }
  - name: restful
    basic: aGFwcm94eTpoZWFsdGg=
    check_interval: 10s
    check_fall: 3
    check_rise: 3
    check_version: 1.1
    options:
      - httplog
    port: 8098
    ssl: true
    ssl_verify: none
    targets:
      - { name: riak01, host: 10.255.125.173 }
      - { name: riak02, host: 10.255.125.200 }
      - { name: riak03, host: 10.255.125.63 }
      - { name: riak04, host: 10.255.125.73 }
    type: riak
  - name: protobuf
    balance: leastconn
    check_interval: 10s
    check_fall: 2
    check_rise: 3
    mode: tcp
    options:
      - tcplog
    port: 8087
    targets:
      - { name: riak01, host: 10.255.125.173 }
      - { name: riak02, host: 10.255.125.200 }
      - { name: riak03, host: 10.255.125.63 }
      - { name: riak04, host: 10.255.125.73 }
  - name: s3
    check_interval: 30s
    check_fall: 1
    check_rise: 1
    options:
      - httplog
    port: 8080
    targets:
      - { name: cs01, host: 10.255.125.16 }
      - { name: cs02, host: 10.255.125.100 }
      - { name: cs03, host: 10.255.125.238 }
    type: riakcs
haproxy_default_mode: http
haproxy_default_options:
  - dontlognull
haproxy_peers:
  - { hostname: lbstore, bind: 10.255.125.124, port: 9999 }
  - { hostname: lbdb, bind: 10.255.125.146 }
